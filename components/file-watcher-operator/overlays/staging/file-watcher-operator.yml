---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: file-watcher-operator
  namespace: ir-file-watcher
spec:
  template:
    spec:
      containers:
      - name: file-watcher-operator
        image: ghcr.io/interactivereduction/filewatcher-operator@sha256:4c0c6d4a0618a316bd232c23adeb2ab078dea9a22e6c85f3d1a3bf1ecea12f1e 
        env:
        - name: DB_IP
          value: dbspg03.fds.rl.ac.uk
        - name: FILE_WATCHER_SHA256
          value: "dd825d9cfa6b4a1714fe9a9009ffc2871bb3a952065bb4434063d0db773c4246"
        - name: QUEUE_HOST
          value: rabbitmq-cluster.rabbitmq.svc.cluster.local
        - name: EGRESS_QUEUE_NAME
          value: watched-files
