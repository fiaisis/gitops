---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: file-watcher-operator
  namespace: ir-file-watcher
spec:
  template:
    spec:
      containers:
      - name: file-watcher-operator
        image: ghcr.io/interactivereduction/filewatcher-operator@sha256:4c0c6d4a0618a316bd232c23adeb2ab078dea9a22e6c85f3d1a3bf1ecea12f1e 
        env:
        - name: DB_IP
          value: dbspg03.fds.rl.ac.uk
        - name: FILE_WATCHER_SHA256
          value: "51cabfb6e4b37ceeb739169cf358474e5db65e38fb3352d6e53fcb7eca73e4ab"
        - name: QUEUE_HOST
          value: rabbitmq-cluster.rabbitmq.svc.cluster.local
        - name: EGRESS_QUEUE_NAME
          value: watched-files
